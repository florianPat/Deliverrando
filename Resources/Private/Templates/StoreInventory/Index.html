<f:if condition="{messageText}">
      <p id="operationMsg"><em>{messageText} the item <strong>"{messageProduct.name}"</strong></em></p>
</f:if>

<!-- um fluid-variablen auch in dem Partial verwenden zu können, muss man sie hier übergeben! -->
<f:render partial="Page/Table" arguments="{_all}"/>

<br>

<!--Ist der user als frontend user eingeloggt?-->
<f:security.ifAuthenticated>
    <f:form.validationResults>
        <!-- does the array "errors" contain a value? -->
        <f:if condition="{validationResults.flattenedErrors}">
            <ul class="errors">
                <!-- get the "error" array. The key is the property path and the value is an array of errors. -->
                <f:for each="{validationResults.flattenedErrors}" as="errors" key="propertyPath">
                    <li>{propertyPath}
                        <ul>
                            <f:for each="{errors}" as="error">
                                <li>{error.code}: {error.message}</li>
                            </f:for>
                        </ul>
                    </li>
                </f:for>
            </ul>
        </f:if>
    </f:form.validationResults>

    <!-- name="the argument of the action" -->
    <f:form name="product" controller="StoreInventory" action="add">
        <f:form.textfield name="name" property="name" placeholder="Name" />
        <f:form.textarea name="description" property="description" placeholder="Description" />
        <f:form.textfield name="quantity" property="quantity" placeholder="Quantity" type="number" />
        <f:form.textfield name="delieveryTime" property="delieveryTime" placeholder="Delievery time" type="number" />
        <f:form.select name="category" options="{categoryOptions}" />

        <f:form.submit value="Add"/>
    </f:form>
</f:security.ifAuthenticated>

<br>
<br>
<f:security.ifAuthenticated>
    <f:then>
        <p>Your are an editor!</p>

        <!-- kopiert vom logout form ;) -->
        <form action="/en/page-1/page-175" target="_top" method="post">
            <fieldset>
                <legend>Logout</legend>
                <div>
                    <input type="submit" name="submit" value="Logout" />
                </div>
                <div class="felogin-hidden">
                    <input type="hidden" name="logintype" value="logout" />
                    <input type="hidden" name="pid" value="8" />
                    <input type="hidden" name="tx_felogin_pi1[noredirect]" value="0" />
                </div>
            </fieldset>
        </form>


        <f:link.action action="index" id="redirectLinkThing" style="visibility: 'collapse'"></f:link.action>
    </f:then>
    <f:else>
        <p>You are a visitor!</p>
        <f:link.page pageUid="5">Anmelden</f:link.page>
    </f:else>
</f:security.ifAuthenticated>